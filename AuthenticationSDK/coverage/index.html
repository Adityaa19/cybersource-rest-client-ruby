<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <title>Code coverage for Authenticationsdk</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <script src='./assets/0.10.2/application.js' type='text/javascript'></script>    
    <link href='./assets/0.10.2/application.css' media='screen, projection, print' rel='stylesheet' type='text/css'>
    <link rel="shortcut icon" type="image/png" href="./assets/0.10.2/favicon_green.png" />
    <link rel="icon" type="image/png" href="./assets/0.10.2/favicon.png" />
  </head>
  
  <body>
    <div id="loading">
      <img src="./assets/0.10.2/loading.gif" alt="loading"/>
    </div>
    <div id="wrapper" style="display:none;">
      <div class="timestamp">Generated <abbr class="timeago" title="2018-11-27T11:41:50+05:30">2018-11-27T11:41:50+05:30</abbr></div>
      <ul class="group_tabs"></ul>

      <div id="content">
        <div class="file_list_container" id="AllFiles">
  <h2>
    <span class="group_name">All Files</span>
    (<span class="covered_percent"><span class="green">91.69%</span></span>
     covered at
     <span class="covered_strength">
       <span class="green">
         11.51
       </span>
    </span> hits/line)
  </h2>
  <a name="AllFiles"></a>
  <div>
    <b>15</b> files in total.
    <b>626</b> relevant lines. 
    <span class="green"><b>574</b> lines covered</span> and
    <span class="red"><b>52</b> lines missed </span>
  </div>
  <table class="file_list">
    <thead>
      <tr>
        <th>File</th>
        <th>% covered</th>
        <th>Lines</th>
        <th>Relevant Lines</th>
        <th>Lines covered</th>
        <th>Lines missed</th>
        <th>Avg. Hits / Line</th>
      </tr>
    </thead>
    <tbody>
      
      <tr>
        <td class="strong"><a href="#ec05f214e5a1f574a049310b366f24c78db79c27" class="src_link" title="authentication/http/GetSignatureParameter.rb">authentication/http/GetSignatureParameter.rb</a></td>
        <td class="yellow strong">86.36 %</td>
        <td>64</td>
        <td>44</td>
        <td>38</td>
        <td>6</td>
        <td>1.9</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#64552324b1909f773709745fe0df706eb9ac3ede" class="src_link" title="authentication/http/HttpSignatureHeader.rb">authentication/http/HttpSignatureHeader.rb</a></td>
        <td class="green strong">93.75 %</td>
        <td>52</td>
        <td>32</td>
        <td>30</td>
        <td>2</td>
        <td>2.3</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#5279c1050ba4163edac70bf68036a11198fcca4c" class="src_link" title="authentication/jwt/JwtToken.rb">authentication/jwt/JwtToken.rb</a></td>
        <td class="green strong">91.3 %</td>
        <td>62</td>
        <td>46</td>
        <td>42</td>
        <td>4</td>
        <td>3.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#b277010bd545664e0f8d9dcc6c36a850386a3a49" class="src_link" title="authentication/payloadDigest/digest.rb">authentication/payloadDigest/digest.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>10</td>
        <td>6</td>
        <td>6</td>
        <td>0</td>
        <td>2.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#051d6e9662596075d9aebe1542d6e5a350ed1e50" class="src_link" title="core/Authorization.rb">core/Authorization.rb</a></td>
        <td class="green strong">94.44 %</td>
        <td>24</td>
        <td>18</td>
        <td>17</td>
        <td>1</td>
        <td>4.3</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#2b3aca03000fa90fa822aadef5e2d074aeebf3c2" class="src_link" title="core/ITokenGeneration.rb">core/ITokenGeneration.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>4</td>
        <td>3</td>
        <td>3</td>
        <td>0</td>
        <td>1.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#27a1f625d45cb073097d0b0e2547b54b7f14f9dd" class="src_link" title="core/Logger.rb">core/Logger.rb</a></td>
        <td class="red strong">77.78 %</td>
        <td>26</td>
        <td>18</td>
        <td>14</td>
        <td>4</td>
        <td>13.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#9b20ed2f18190808d0bf409b615cff6922afe905" class="src_link" title="core/MerchantConfig.rb">core/MerchantConfig.rb</a></td>
        <td class="yellow strong">86.81 %</td>
        <td>181</td>
        <td>144</td>
        <td>125</td>
        <td>19</td>
        <td>33.2</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#792fbf7e83238d527a0199f84d2930864a77d36e" class="src_link" title="spec/MerchantConfigData.rb">spec/MerchantConfigData.rb</a></td>
        <td class="green strong">94.12 %</td>
        <td>59</td>
        <td>51</td>
        <td>48</td>
        <td>3</td>
        <td>27.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#8d74fa69178c94034b491c1fe926eafb1ebe34d7" class="src_link" title="spec/MerchantConfig_spec.rb">spec/MerchantConfig_spec.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>121</td>
        <td>95</td>
        <td>95</td>
        <td>0</td>
        <td>1.1</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#165cae6912e430a254ce278b8f23e42b88e99b61" class="src_link" title="spec/ResponseCodeMessage_spec.rb">spec/ResponseCodeMessage_spec.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>60</td>
        <td>47</td>
        <td>47</td>
        <td>0</td>
        <td>1.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#dd8c6e76d9c50aa8ddf07394abebd08f422f0c45" class="src_link" title="util/ApiException.rb">util/ApiException.rb</a></td>
        <td class="red strong">50.0 %</td>
        <td>19</td>
        <td>14</td>
        <td>7</td>
        <td>7</td>
        <td>4.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#f9ace1f265257fc3faa9b00539a2a78948bd07d1" class="src_link" title="util/Cache.rb">util/Cache.rb</a></td>
        <td class="red strong">79.17 %</td>
        <td>36</td>
        <td>24</td>
        <td>19</td>
        <td>5</td>
        <td>2.4</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#66662c852caedb63ee4bfd2bc818bf539ff2af44" class="src_link" title="util/Constants.rb">util/Constants.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>138</td>
        <td>67</td>
        <td>67</td>
        <td>0</td>
        <td>1.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#4bc3bc7900e727d06ea3e422a7d9afecbbc01e32" class="src_link" title="util/Utility.rb">util/Utility.rb</a></td>
        <td class="green strong">94.12 %</td>
        <td>31</td>
        <td>17</td>
        <td>16</td>
        <td>1</td>
        <td>2.8</td>
      </tr>
      
    </tbody>
  </table>
</div>


        
      </div>
    
      <div id="footer">
        Generated by <a href="http://github.com/colszowka/simplecov">simplecov</a> v0.16.1 
        and simplecov-html v0.10.2<br/>
        using RSpec
      </div>
    
      <div class="source_files">
      
        <div class="source_table" id="ec05f214e5a1f574a049310b366f24c78db79c27">
  <div class="header">
    <h3>authentication/http/GetSignatureParameter.rb</h3>
    <h4><span class="yellow">86.36 %</span> covered</h4>
    <div>
      <b>44</b> relevant lines. 
      <span class="green"><b>38</b> lines covered</span> and
      <span class="red"><b>6</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="1" data-linenumber="1">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../../util/Constants.rb&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;.././payloadDigest/digest.rb&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="3">
          <span class="hits">1</span>
          
          <code class="ruby">require &#39;openssl&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"># This function returns value for paramter Signature which is then passed to Signature header</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby"># paramter &#39;Signature&#39; is calucated based on below key values and then signed with SECRET KEY -</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby"># host: Sandbox (apitest.cybersource.com) or Production (api.cybersource.com) hostname</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"># date: &quot;HTTP-date&quot; format as defined by RFC7231.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby"># (request-target): Should be in format of httpMethod: path</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"># Example: &quot;post /pts/v2/payments&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"># Digest: Only needed for POST calls.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"># digestString = BASE64( HMAC-SHA256 ( Payload ));</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby"># Digest: “SHA-256=“ + digestString;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby"># v-c-merchant-id: set value to Cybersource Merchant ID</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby"># This ID can be found on EBC portal*/</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="15">
          <span class="hits">1</span>
          
          <code class="ruby">class SignatureParameter</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="16">
          <span class="hits">1</span>
          
          <code class="ruby">  def generateSignatureParameter(merchantconfig_obj, gmtdatetime, log_obj)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="17">
          <span class="hits">4</span>
          
          <code class="ruby">    request_type = merchantconfig_obj.requestType.upcase</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="18">
          <span class="hits">4</span>
          
          <code class="ruby">    merchantSecretKey = merchantconfig_obj.merchantSecretKey</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="19">
          <span class="hits">4</span>
          
          <code class="ruby">    signatureString = Constants::HOST + &#39;: &#39; + merchantconfig_obj.requestHost</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="20">
          <span class="hits">4</span>
          
          <code class="ruby">    signatureString &lt;&lt; &quot;\n&quot;+ Constants::DATE + &#39;: &#39; + gmtdatetime</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="21">
          <span class="hits">4</span>
          
          <code class="ruby">    signatureString &lt;&lt; &quot;\n(request-target): &quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="22">
          <span class="hits">4</span>
          
          <code class="ruby">    if request_type == Constants::GET_REQUEST_TYPE || request_type == Constants::DELETE_REQUEST_TYPE</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="23">
          <span class="hits">2</span>
          
          <code class="ruby">      targetUrl=gettargetUrlForGetDelete(request_type,merchantconfig_obj)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="24">
          <span class="hits">2</span>
          
          <code class="ruby">      signatureString &lt;&lt; targetUrl + &quot;\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">    elsif request_type == Constants::POST_REQUEST_TYPE || request_type == Constants::PUT_REQUEST_TYPE || request_type == Constants::PATCH_REQUEST_TYPE</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="26">
          <span class="hits">2</span>
          
          <code class="ruby">      targetUrl=gettargetUrlForPutPost(request_type,merchantconfig_obj)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="27">
          <span class="hits">2</span>
          
          <code class="ruby">      signatureString &lt;&lt; targetUrl + &quot;\n&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="28">
          <span class="hits">2</span>
          
          <code class="ruby">      payload = merchantconfig_obj.requestJsonData</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="29">
          <span class="hits">2</span>
          
          <code class="ruby">      digest = DigestGeneration.new.generateDigest(payload, log_obj)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="30">
          <span class="hits">2</span>
          
          <code class="ruby">      digest_payload = Constants::SHA256 + digest</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="31">
          <span class="hits">2</span>
          
          <code class="ruby">      signatureString &lt;&lt; Constants::DIGEST + &#39;: &#39; + digest_payload + &quot;\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="33">
          <span class="hits">4</span>
          
          <code class="ruby">    signatureString &lt;&lt; Constants::V_C_MERCHANT_ID + &#39;: &#39; + merchantconfig_obj.merchantId</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="34">
          <span class="hits">4</span>
          
          <code class="ruby">    encodedSignatureString = signatureString.force_encoding(Encoding::UTF_8)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="35">
          <span class="hits">4</span>
          
          <code class="ruby">    decodedKey = Base64.decode64(merchantSecretKey)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="36">
          <span class="hits">4</span>
          
          <code class="ruby">    base64EncodedSignature = Base64.strict_encode64(OpenSSL::HMAC.digest(&#39;sha256&#39;, decodedKey, encodedSignatureString))</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="37">
          <span class="hits">4</span>
          
          <code class="ruby">    return base64EncodedSignature</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">  rescue StandardError =&gt; err</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="39">
          
          
          <code class="ruby">    log_obj.logger.error(err.message)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="40">
          
          
          <code class="ruby">    log_obj.logger.error(err.backtrace)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="41">
          
          
          <code class="ruby">    puts &#39;Check log for more details.&#39;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="42">
          
          
          <code class="ruby">    exit!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="44">
          <span class="hits">1</span>
          
          <code class="ruby">  def gettargetUrlForGetDelete(request_type, merchantconfig_obj)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="45">
          <span class="hits">2</span>
          
          <code class="ruby">    targetUrlForGetDelete = &#39;&#39;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="46">
          <span class="hits">2</span>
          
          <code class="ruby">    if request_type == Constants::DELETE_REQUEST_TYPE</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="47">
          <span class="hits">1</span>
          
          <code class="ruby">      targetUrlForGetDelete = Constants::DELETE_REQUEST_TYPE_LOWER + &#39; &#39; + merchantconfig_obj.requestTarget</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="48">
          <span class="hits">1</span>
          
          <code class="ruby">    elsif request_type == Constants::GET_REQUEST_TYPE</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="49">
          <span class="hits">1</span>
          
          <code class="ruby">      targetUrlForGetDelete = Constants::GET_REQUEST_TYPE_LOWER + &#39; &#39; + merchantconfig_obj.requestTarget</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="51">
          <span class="hits">2</span>
          
          <code class="ruby">    return targetUrlForGetDelete</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="53">
          <span class="hits">1</span>
          
          <code class="ruby">  def gettargetUrlForPutPost(request_type, merchantconfig_obj)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="54">
          <span class="hits">2</span>
          
          <code class="ruby">    targetUrlForPutPost = &#39;&#39;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="55">
          <span class="hits">2</span>
          
          <code class="ruby">    if request_type == Constants::POST_REQUEST_TYPE</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="56">
          <span class="hits">1</span>
          
          <code class="ruby">      targetUrlForPutPost = Constants::POST_REQUEST_TYPE_LOWER + &#39; &#39; + merchantconfig_obj.requestTarget</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="57">
          <span class="hits">1</span>
          
          <code class="ruby">    elsif request_type == Constants::PUT_REQUEST_TYPE</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="58">
          <span class="hits">1</span>
          
          <code class="ruby">      targetUrlForPutPost = Constants::PUT_REQUEST_TYPE_LOWER + &#39; &#39; + merchantconfig_obj.requestTarget</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="59">
          
          
          <code class="ruby">    elsif request_type == Constants::PATCH_REQUEST_TYPE</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="60">
          
          
          <code class="ruby">      targetUrlForPutPost = Constants::PATCH_REQUEST_TYPE_LOWER + &#39; &#39; + merchantconfig_obj.requestTarget</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="62">
          <span class="hits">2</span>
          
          <code class="ruby">    return targetUrlForPutPost</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="64552324b1909f773709745fe0df706eb9ac3ede">
  <div class="header">
    <h3>authentication/http/HttpSignatureHeader.rb</h3>
    <h4><span class="green">93.75 %</span> covered</h4>
    <div>
      <b>32</b> relevant lines. 
      <span class="green"><b>30</b> lines covered</span> and
      <span class="red"><b>2</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="1" data-linenumber="1">
          <span class="hits">1</span>
          
          <code class="ruby">require &#39;base64&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../../core/ITokenGeneration.rb&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="3">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../../util/Constants.rb&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="4">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../../util/ApiException.rb&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="5">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;.././payloadDigest/digest.rb&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="6">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;.././http/GetSignatureParameter.rb&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="7">
          <span class="hits">1</span>
          
          <code class="ruby">public</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">#  SignatureHeader return SignatureHeader Value that contains following paramters</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">#  * keyid     -- Merchant ID obtained from EBC portal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">#  * algorithm -- Should have value as &quot;HmacSHA256&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">#  * headers   -- List of all header name passed in the Signature paramter below</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">#                 String getHeaders = &quot;host date (request-target)&quot; + &quot; &quot; + &quot;v-c-merchant-id&quot;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">#                 String postHeaders = &quot;host date (request-target) digest v-c-merchant-id&quot;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">#                 Note: Digest is not passed for GET calls</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">#  * signature -- Signature header has paramter called signature</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">#                 Paramter &#39;Signature&#39; must contain all the paramters mentioned in header above in given order</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="17">
          <span class="hits">1</span>
          
          <code class="ruby">class GenerateHttpSignature</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  # Generates Signature based on the requestType</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="19">
          <span class="hits">1</span>
          
          <code class="ruby">  def getToken(merchantconfig_obj, gmtdatetime, log_obj)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="20">
          <span class="hits">5</span>
          
          <code class="ruby">    request_type = merchantconfig_obj.requestType.upcase</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="21">
          <span class="hits">5</span>
          
          <code class="ruby">    signatureHeaderValue =&#39;&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="22">
          <span class="hits">5</span>
          
          <code class="ruby">    signatureHeaderValue &lt;&lt; Constants::KEY_ID + merchantconfig_obj.merchantKeyId + &quot;\&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">    # Algorithm should be always HmacSHA256 for http signature</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="24">
          <span class="hits">5</span>
          
          <code class="ruby">    signatureHeaderValue &lt;&lt; &#39;, &#39; + Constants::ALGORITHM + Constants::SIGNATURE_ALGORITHM + &quot;\&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">    # Headers - list is choosen based on HTTP method</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="26">
          <span class="hits">5</span>
          
          <code class="ruby">    signatureheader=getsignatureHeader(request_type)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="27">
          <span class="hits">4</span>
          
          <code class="ruby">    signatureHeaderValue &lt;&lt; &#39;, &#39; + Constants::HEADERS_PARAM + signatureheader + &quot;\&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">    # Get Value for parameter &#39;Signature&#39; to be passed to Signature Header</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="29">
          <span class="hits">4</span>
          
          <code class="ruby">    signature_value = SignatureParameter.new.generateSignatureParameter(merchantconfig_obj, gmtdatetime, log_obj)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="30">
          <span class="hits">4</span>
          
          <code class="ruby">    signatureHeaderValue &lt;&lt; &#39;, &#39; + Constants::SIGNATURE_PARAM + signature_value + &quot;\&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="31">
          <span class="hits">4</span>
          
          <code class="ruby">    return signatureHeaderValue</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">  rescue StandardError =&gt; err</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="33">
          <span class="hits">1</span>
          
          <code class="ruby">    ApiException.new.apiexception(err,log_obj)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="34">
          
          
          <code class="ruby">    exit!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="36">
          <span class="hits">1</span>
          
          <code class="ruby">  def getsignatureHeader(request_type)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="37">
          <span class="hits">5</span>
          
          <code class="ruby">    headers = &#39;&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="38">
          <span class="hits">5</span>
          
          <code class="ruby">    if request_type == Constants::POST_REQUEST_TYPE</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="39">
          <span class="hits">1</span>
          
          <code class="ruby">      headers = &#39;host date (request-target) digest &#39; + Constants::V_C_MERCHANT_ID</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">    elsif request_type == Constants::GET_REQUEST_TYPE || request_type == Constants::DELETE_REQUEST_TYPE</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="41">
          <span class="hits">2</span>
          
          <code class="ruby">      headers = &#39;host date (request-target)&#39; + &#39; &#39; + Constants::V_C_MERCHANT_ID</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="42">
          <span class="hits">2</span>
          
          <code class="ruby">    elsif request_type == Constants::PUT_REQUEST_TYPE</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="43">
          <span class="hits">1</span>
          
          <code class="ruby">      headers = &#39;host date (request-target) digest &#39; + Constants::V_C_MERCHANT_ID</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="44">
          <span class="hits">1</span>
          
          <code class="ruby">    elsif request_type == Constants::PATCH_REQUEST_TYPE</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="45">
          
          
          <code class="ruby">      headers = &#39;host date (request-target) digest &#39; + Constants::V_C_MERCHANT_ID</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="47">
          <span class="hits">1</span>
          
          <code class="ruby">      raise StandardError.new(Constants::ERROR_PREFIX + Constants::INVALID_REQUEST_TYPE_METHOD)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="49">
          <span class="hits">4</span>
          
          <code class="ruby">    return headers</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="51">
          <span class="hits">1</span>
          
          <code class="ruby">  implements TokenInterface</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="5279c1050ba4163edac70bf68036a11198fcca4c">
  <div class="header">
    <h3>authentication/jwt/JwtToken.rb</h3>
    <h4><span class="green">91.3 %</span> covered</h4>
    <div>
      <b>46</b> relevant lines. 
      <span class="green"><b>42</b> lines covered</span> and
      <span class="red"><b>4</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="1" data-linenumber="1">
          <span class="hits">1</span>
          
          <code class="ruby">require &#39;base64&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2">
          <span class="hits">1</span>
          
          <code class="ruby">require &#39;openssl&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="3">
          <span class="hits">1</span>
          
          <code class="ruby">require &#39;jwt&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="4">
          <span class="hits">1</span>
          
          <code class="ruby">require &#39;json&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="5">
          <span class="hits">1</span>
          
          <code class="ruby">require &#39;active_support&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="6">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../../core/ITokenGeneration.rb&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="7">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../../util/Constants.rb&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../../util/ApiException.rb&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="9">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../../util/Cache.rb&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="10">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../../authentication/payloadDigest/digest.rb&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="11">
          <span class="hits">1</span>
          
          <code class="ruby">public</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">#JWT Token-generated based  on the Request type</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="13">
          <span class="hits">1</span>
          
          <code class="ruby">class GenerateJwtToken</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="14">
          <span class="hits">1</span>
          
          <code class="ruby">  def getToken(merchantconfig_obj,gmtDatetime,log_obj)</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="15">
          <span class="hits">9</span>
          
          <code class="ruby">    jwtBody = &#39;&#39;</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="16">
          <span class="hits">9</span>
          
          <code class="ruby">    request_type = merchantconfig_obj.requestType.upcase</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="17">
          <span class="hits">9</span>
          
          <code class="ruby">    filePath = merchantconfig_obj.keysDirectory + &#39;/&#39; + merchantconfig_obj.keyFilename + &#39;.p12&#39;</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="18">
          <span class="hits">9</span>
          
          <code class="ruby">    if (!File.exist?(filePath))</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="19">
          <span class="hits">5</span>
          
          <code class="ruby">      raise Constants::ERROR_PREFIX + Constants::FILE_NOT_FOUND + File.expand_path(filePath)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="21">
          <span class="hits">4</span>
          
          <code class="ruby">    p12File = File.binread(filePath)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="22">
          <span class="hits">4</span>
          
          <code class="ruby">    jwtBody=getJwtBody(request_type, gmtDatetime, merchantconfig_obj, log_obj)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="23">
          <span class="hits">4</span>
          
          <code class="ruby">    claimSet = JSON.parse(jwtBody)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="24">
          <span class="hits">4</span>
          
          <code class="ruby">    p12FilePath = OpenSSL::PKCS12.new(p12File, merchantconfig_obj.keyPass)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">    # Generating certificate.</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="26">
          <span class="hits">4</span>
          
          <code class="ruby">    cacheObj = ActiveSupport::Cache::MemoryStore.new</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="27">
          <span class="hits">4</span>
          
          <code class="ruby">    x5Cert = Cache.new.fetchCachedCertificate(filePath, p12File, merchantconfig_obj.keyPass, cacheObj)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">    # Generating Public key.</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="29">
          <span class="hits">4</span>
          
          <code class="ruby">    publicKey = OpenSSL::PKey::RSA.new(p12FilePath.key.public_key)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">    #Generating Private Key</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="31">
          <span class="hits">4</span>
          
          <code class="ruby">    privateKey = OpenSSL::PKey::RSA.new(p12FilePath.key)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">    # JWT token-Generates using RS256 algorithm only</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="33">
          <span class="hits">4</span>
          
          <code class="ruby">    x5clist = [x5Cert]</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="34">
          <span class="hits">4</span>
          
          <code class="ruby">    customHeaders = {}</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="35">
          <span class="hits">4</span>
          
          <code class="ruby">    customHeaders[&#39;v-c-merchant-id&#39;] = merchantconfig_obj.keyAlias</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="36">
          <span class="hits">4</span>
          
          <code class="ruby">    customHeaders[&#39;x5c&#39;] = x5clist</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">    # Generating JWT token</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="38">
          <span class="hits">4</span>
          
          <code class="ruby">    token = JWT.encode(claimSet, privateKey, &#39;RS256&#39;, customHeaders)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="39">
          <span class="hits">4</span>
          
          <code class="ruby">    return token</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">  rescue StandardError =&gt; err</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="41">
          <span class="hits">5</span>
          
          <code class="ruby">    if err.message.include? &#39;PKCS12_parse: mac verify failure&#39;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="42">
          
          
          <code class="ruby">      ApiException.new.customerror(Constants::ERROR_PREFIX + Constants::INCORRECT_KEY_PASS,log_obj)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="43">
          
          
          <code class="ruby">      exit!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="45">
          <span class="hits">5</span>
          
          <code class="ruby">      ApiException.new.apiexception(err,log_obj)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="46">
          
          
          <code class="ruby">      exit!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="49">
          <span class="hits">1</span>
          
          <code class="ruby">  def getJwtBody(request_type, gmtDatetime, merchantconfig_obj,log_obj)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="50">
          <span class="hits">4</span>
          
          <code class="ruby">    if request_type == Constants::POST_REQUEST_TYPE || request_type == Constants::PUT_REQUEST_TYPE || request_type == Constants::PATCH_REQUEST_TYPE</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="51">
          <span class="hits">2</span>
          
          <code class="ruby">      payload = merchantconfig_obj.requestJsonData</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">      # Note: Digest is not passed for GET calls</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="53">
          <span class="hits">2</span>
          
          <code class="ruby">      digest = DigestGeneration.new.generateDigest(payload, log_obj)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="54">
          <span class="hits">2</span>
          
          <code class="ruby">      jwtBody = &quot;{\n      \&quot;digest\&quot;:\&quot;&quot; + digest + &quot;\&quot;, \&quot;digestAlgorithm\&quot;:\&quot;SHA-256\&quot;, \&quot;iat\&quot;:\&quot;&quot; + gmtDatetime + &quot;\&quot;}&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="55">
          <span class="hits">2</span>
          
          <code class="ruby">    elsif request_type == Constants::GET_REQUEST_TYPE || request_type == Constants::DELETE_REQUEST_TYPE</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="56">
          <span class="hits">2</span>
          
          <code class="ruby">      jwtBody = &quot;{\n \&quot;iat\&quot;:\&quot;&quot; + gmtDatetime + &quot;\&quot;\n} \n\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">    else </code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="58">
          
          
          <code class="ruby">      raise StandardError.new(Constants::ERROR_PREFIX + Constants::INVALID_REQUEST_TYPE_METHOD)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="61">
          <span class="hits">1</span>
          
          <code class="ruby">  implements TokenInterface</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="b277010bd545664e0f8d9dcc6c36a850386a3a49">
  <div class="header">
    <h3>authentication/payloadDigest/digest.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>6</b> relevant lines. 
      <span class="green"><b>6</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="1" data-linenumber="1">
          <span class="hits">1</span>
          
          <code class="ruby">require &#39;digest&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2">
          <span class="hits">1</span>
          
          <code class="ruby">public</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"># This method return Digest value which is SHA-256 </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"># hash of payload that is BASE64 encoded</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="5">
          <span class="hits">1</span>
          
          <code class="ruby">class DigestGeneration</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="6">
          <span class="hits">1</span>
          
          <code class="ruby">  def generateDigest(payload, log_obj)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="7">
          <span class="hits">4</span>
          
          <code class="ruby">    digest = Digest::SHA256.base64digest(payload)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="8">
          <span class="hits">4</span>
          
          <code class="ruby">    return digest</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="051d6e9662596075d9aebe1542d6e5a350ed1e50">
  <div class="header">
    <h3>core/Authorization.rb</h3>
    <h4><span class="green">94.44 %</span> covered</h4>
    <div>
      <b>18</b> relevant lines. 
      <span class="green"><b>17</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="1" data-linenumber="1">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../authentication/http/HttpSignatureHeader.rb&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../authentication/jwt/JwtToken.rb&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="3">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../util/Constants.rb&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="4">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../util/ApiException.rb&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="5">
          <span class="hits">1</span>
          
          <code class="ruby">public</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby"># This function calls for the generation of Signature message depending on the authentication type.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="7">
          <span class="hits">1</span>
          
          <code class="ruby">class Authorization</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">  def getToken(merchantconfig_obj, gmtdatetime, log_obj)</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="9">
          <span class="hits">14</span>
          
          <code class="ruby">    authenticationType = merchantconfig_obj.authenticationType.upcase</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="10">
          <span class="hits">14</span>
          
          <code class="ruby">    if merchantconfig_obj.requestType.to_s.empty?</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="11">
          <span class="hits">1</span>
          
          <code class="ruby">      raise StandardError.new(Constants::ERROR_PREFIX + Constants::REQUEST_TYPE_EMPTY)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="13" data-linenumber="13">
          <span class="hits">13</span>
          
          <code class="ruby">    if authenticationType == Constants::AUTH_TYPE_HTTP</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="14">
          <span class="hits">4</span>
          
          <code class="ruby">      token = GenerateHttpSignature.new.getToken(merchantconfig_obj, gmtdatetime, log_obj)</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="15">
          <span class="hits">9</span>
          
          <code class="ruby">    elsif authenticationType == Constants::AUTH_TYPE_JWT</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="16">
          <span class="hits">8</span>
          
          <code class="ruby">      token = GenerateJwtToken.new.getToken(merchantconfig_obj, gmtdatetime, log_obj)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="17">
          <span class="hits">1</span>
          
          <code class="ruby">    elsif authenticationType != Constants::AUTH_TYPE_HTTP || authenticationType != Constants::AUTH_TYPE_JWT</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="18">
          <span class="hits">1</span>
          
          <code class="ruby">      raise StandardError.ner(Constants::ERROR_PREFIX + Constants::AUTH_ERROR)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">  rescue StandardError =&gt; err</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="21">
          <span class="hits">6</span>
          
          <code class="ruby">    ApiException.new.apiexception(err,log_obj)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="22">
          
          
          <code class="ruby">    exit!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="2b3aca03000fa90fa822aadef5e2d074aeebf3c2">
  <div class="header">
    <h3>core/ITokenGeneration.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>3</b> relevant lines. 
      <span class="green"><b>3</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="1" data-linenumber="1">
          <span class="hits">1</span>
          
          <code class="ruby">require &#39;interface&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2">
          <span class="hits">1</span>
          
          <code class="ruby">TokenInterface = interface {</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="3">
          <span class="hits">1</span>
          
          <code class="ruby">  required_methods :getToken</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">}</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="27a1f625d45cb073097d0b0e2547b54b7f14f9dd">
  <div class="header">
    <h3>core/Logger.rb</h3>
    <h4><span class="red">77.78 %</span> covered</h4>
    <div>
      <b>18</b> relevant lines. 
      <span class="green"><b>14</b> lines covered</span> and
      <span class="red"><b>4</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="1" data-linenumber="1">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../util/ApiException.rb&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2">
          <span class="hits">1</span>
          
          <code class="ruby">require &#39;logger&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="3">
          <span class="hits">1</span>
          
          <code class="ruby">public </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"># Logger Class</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="5">
          <span class="hits">1</span>
          
          <code class="ruby">class Log</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="6">
          <span class="hits">1</span>
          
          <code class="ruby">  def initialize(logDirectory, logFilename, logSize, enableLog)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    #log</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="8">
          <span class="hits">35</span>
          
          <code class="ruby">    if enableLog == true</code>
        </li>
      
        <li class="covered" data-hits="34" data-linenumber="9">
          <span class="hits">34</span>
          
          <code class="ruby">      filename = logDirectory + &#39;/&#39; + logFilename + &#39;.log&#39;</code>
        </li>
      
        <li class="covered" data-hits="34" data-linenumber="10">
          <span class="hits">34</span>
          
          <code class="ruby">      datetime = DateTime.now</code>
        </li>
      
        <li class="covered" data-hits="34" data-linenumber="11">
          <span class="hits">34</span>
          
          <code class="ruby">      if File.exist?(filename) &amp;&amp; File.size(filename) &gt;= logSize</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="12">
          
          
          <code class="ruby">        updatedFileName = logDirectory + &#39;/&#39; + logFilename + &#39;_&#39; + datetime.strftime(&#39;%Y%m%d%H%M%S&#39;) + &#39;.log&#39;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="13">
          
          
          <code class="ruby">        File.rename(filename, updatedFileName)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="covered" data-hits="34" data-linenumber="15">
          <span class="hits">34</span>
          
          <code class="ruby">      @logger = Logger.new(STDOUT)</code>
        </li>
      
        <li class="covered" data-hits="34" data-linenumber="16">
          <span class="hits">34</span>
          
          <code class="ruby">      @logger = Logger.new(filename, logSize)</code>
        </li>
      
        <li class="covered" data-hits="34" data-linenumber="17">
          <span class="hits">34</span>
          
          <code class="ruby">      @logger.datetime_format = datetime.strftime(&#39;%Y-%m-%d %H:%M:%S&#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="19">
          <span class="hits">1</span>
          
          <code class="ruby">      @logger = Logger.new(false)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">  rescue StandardError =&gt; err</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="22">
          
          
          <code class="ruby">    puts err</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="23">
          
          
          <code class="ruby">    exit!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="25">
          <span class="hits">1</span>
          
          <code class="ruby">  attr_accessor :logger</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="9b20ed2f18190808d0bf409b615cff6922afe905">
  <div class="header">
    <h3>core/MerchantConfig.rb</h3>
    <h4><span class="yellow">86.81 %</span> covered</h4>
    <div>
      <b>144</b> relevant lines. 
      <span class="green"><b>125</b> lines covered</span> and
      <span class="red"><b>19</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="1" data-linenumber="1">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;./Logger.rb&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../util/Constants.rb&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="3">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../util/ApiException.rb&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="4">
          <span class="hits">1</span>
          
          <code class="ruby">public</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby"># This fuction has all the merchantConfig properties getters and setters methods</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="6">
          <span class="hits">1</span>
          
          <code class="ruby">class Merchantconfig</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="7">
          <span class="hits">1</span>
          
          <code class="ruby">  def initialize(cybsPropertyObj)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  # Common Parameters</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="9">
          <span class="hits">35</span>
          
          <code class="ruby">  @merchantId = cybsPropertyObj[&#39;merchantID&#39;]</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="10">
          <span class="hits">35</span>
          
          <code class="ruby">  @runEnvironment = cybsPropertyObj[&#39;runEnvironment&#39;]</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="11">
          <span class="hits">35</span>
          
          <code class="ruby">  @authenticationType = cybsPropertyObj[&#39;authenticationType&#39;]</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="12">
          <span class="hits">35</span>
          
          <code class="ruby">  @logDirectory = cybsPropertyObj[&#39;logDirectory&#39;]</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="13">
          <span class="hits">35</span>
          
          <code class="ruby">  @logSize = cybsPropertyObj[&#39;logSize&#39;]</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="14">
          <span class="hits">35</span>
          
          <code class="ruby">  @enableLog = cybsPropertyObj[&#39;enableLog&#39;]</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="15">
          <span class="hits">35</span>
          
          <code class="ruby">  @proxyAddress = cybsPropertyObj[&#39;proxyAddress&#39;]</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="16">
          <span class="hits">35</span>
          
          <code class="ruby">  @proxyPort = cybsPropertyObj[&#39;proxyPort&#39;]</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="17">
          <span class="hits">35</span>
          
          <code class="ruby">  @getId = &#39;&#39;</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="18">
          <span class="hits">35</span>
          
          <code class="ruby">  @requestHost = &#39;&#39;</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="19">
          <span class="hits">35</span>
          
          <code class="ruby">  @requestTarget = &#39;&#39;</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="20">
          <span class="hits">35</span>
          
          <code class="ruby">  @requestJsonData = &#39;&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">  # HTTP Parameters</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="22">
          <span class="hits">35</span>
          
          <code class="ruby">  @merchantSecretKey = cybsPropertyObj[&#39;merchantsecretKey&#39;]</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="23">
          <span class="hits">35</span>
          
          <code class="ruby">  @merchantKeyId = cybsPropertyObj[&#39;merchantKeyId&#39;]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">  # JWT Parameters</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="25">
          <span class="hits">35</span>
          
          <code class="ruby">  @keysDirectory = cybsPropertyObj[&#39;keysDirectory&#39;]</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="26">
          <span class="hits">35</span>
          
          <code class="ruby">  @keyAlias = cybsPropertyObj[&#39;keyAlias&#39;]</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="27">
          <span class="hits">35</span>
          
          <code class="ruby">  @keyPass = cybsPropertyObj[&#39;keyPass&#39;]</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="28">
          <span class="hits">35</span>
          
          <code class="ruby">  @keyFilename = cybsPropertyObj[&#39;keyFilename&#39;]</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="29">
          <span class="hits">35</span>
          
          <code class="ruby">  @logFilename = cybsPropertyObj[&#39;logFilename&#39;]</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="30">
          <span class="hits">35</span>
          
          <code class="ruby">  validateMerchantDetails()</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="31">
          <span class="hits">30</span>
          
          <code class="ruby">  logAllProperties(cybsPropertyObj)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">  #fall back logic</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="34">
          <span class="hits">1</span>
          
          <code class="ruby">  def validateMerchantDetails()</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="35">
          <span class="hits">35</span>
          
          <code class="ruby">    logmessage=&#39;&#39;</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="36">
          <span class="hits">35</span>
          
          <code class="ruby">    if @enableLog.to_s.empty?</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="37">
          <span class="hits">1</span>
          
          <code class="ruby">      @enableLog = true</code>
        </li>
      
        <li class="covered" data-hits="34" data-linenumber="38">
          <span class="hits">34</span>
          
          <code class="ruby">    elsif @enableLog.instance_of? Fixnum</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="39">
          <span class="hits">1</span>
          
          <code class="ruby">      @enableLog = @enableLog.to_s</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="41">
          <span class="hits">35</span>
          
          <code class="ruby">    if @logSize.to_s.empty?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="42">
          
          
          <code class="ruby">      @logSize = Constants::DEFAULT_LOG_SIZE</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="43">
          <span class="hits">35</span>
          
          <code class="ruby">    elsif !@logSize.instance_of? Fixnum</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="44">
          
          
          <code class="ruby">      @logSize=@logSize.to_i</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="46">
          <span class="hits">35</span>
          
          <code class="ruby">    if @logDirectory.to_s.empty? || !Dir.exist?(@logDirectory)</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="47">
          <span class="hits">35</span>
          
          <code class="ruby">      @logDirectory = Constants::DEFAULT_LOG_DIRECTORY</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="48">
          <span class="hits">35</span>
          
          <code class="ruby">      unless Dir.exist?(@logDirectory)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="49">
          
          
          <code class="ruby">        Dir.mkdir(Constants::DEFAULT_LOG_DIRECTORY)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="51">
          <span class="hits">35</span>
          
          <code class="ruby">      logmessage = Constants::WARNING_PREFIX + Constants::INVALID_LOG_DIRECTORY + File.expand_path(@logDirectory)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="53">
          <span class="hits">35</span>
          
          <code class="ruby">    if @logFilename.to_s.empty?</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="54">
          <span class="hits">1</span>
          
          <code class="ruby">      @logFilename = Constants::DEFAULT_LOGFILE_NAME</code>
        </li>
      
        <li class="covered" data-hits="34" data-linenumber="55">
          <span class="hits">34</span>
          
          <code class="ruby">    elsif !@logFilename.instance_of? String</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="56">
          
          
          <code class="ruby">      @logFilename=@logFilename.to_s</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="58">
          <span class="hits">35</span>
          
          <code class="ruby">    @log_obj = Log.new @logDirectory,@logFilename,@logSize,@enableLog</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="59">
          <span class="hits">35</span>
          
          <code class="ruby">    @log_obj.logger.info(&#39;START&gt; =======================================&#39;)</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="60">
          <span class="hits">35</span>
          
          <code class="ruby">    if !logmessage.to_s.empty?</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="61">
          <span class="hits">35</span>
          
          <code class="ruby">      ApiException.new.apiwarning(logmessage,log_obj)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="63">
          <span class="hits">35</span>
          
          <code class="ruby">    if @merchantId.to_s.empty?</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="64">
          <span class="hits">1</span>
          
          <code class="ruby">      err = raise StandardError.new(Constants::ERROR_PREFIX + Constants::MERCHANT_ID_NULL)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="65">
          
          
          <code class="ruby">      ApiException.new.apiexception(err,log_obj)</code>
        </li>
      
        <li class="covered" data-hits="34" data-linenumber="66">
          <span class="hits">34</span>
          
          <code class="ruby">    elsif !@merchantId.instance_of? String</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="67">
          
          
          <code class="ruby">      @merchantId=@merchantId.to_s</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="34" data-linenumber="69">
          <span class="hits">34</span>
          
          <code class="ruby">    if @authenticationType.to_s.empty?</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="70">
          <span class="hits">1</span>
          
          <code class="ruby">      err = raise StandardError.new(Constants::ERROR_PREFIX + Constants::AUTH_TYPE_MANDATORY)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="71">
          
          
          <code class="ruby">      ApiException.new.apiexception(err,log_obj) </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="33" data-linenumber="73">
          <span class="hits">33</span>
          
          <code class="ruby">    if !@authenticationType.instance_of? String </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="74">
          <span class="hits">1</span>
          
          <code class="ruby">      err = raise StandardError.new(Constants::ERROR_PREFIX+ Constants::AUTH_ERROR)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="75">
          
          
          <code class="ruby">      ApiException.new.apiexception(err,log_obj)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="32" data-linenumber="77">
          <span class="hits">32</span>
          
          <code class="ruby">    if !@runEnvironment.to_s.empty?</code>
        </li>
      
        <li class="covered" data-hits="32" data-linenumber="78">
          <span class="hits">32</span>
          
          <code class="ruby">      if !@runEnvironment.instance_of? String</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="79">
          
          
          <code class="ruby">        @requestHost = @runEnvironment.to_s</code>
        </li>
      
        <li class="covered" data-hits="32" data-linenumber="80">
          <span class="hits">32</span>
          
          <code class="ruby">      elsif @runEnvironment.upcase == Constants::RUN_ENV_PROD</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="81">
          <span class="hits">1</span>
          
          <code class="ruby">        @requestHost = Constants::PRODUCTION_URL</code>
        </li>
      
        <li class="covered" data-hits="31" data-linenumber="82">
          <span class="hits">31</span>
          
          <code class="ruby">      elsif @runEnvironment.upcase == Constants::RUN_ENV_SANDBOX</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="83">
          <span class="hits">30</span>
          
          <code class="ruby">        @requestHost = Constants::SANDBOX_URL</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="85">
          <span class="hits">1</span>
          
          <code class="ruby">        @requestHost = @runEnvironment</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="87">
          
          
          <code class="ruby">    elsif @runEnvironment.to_s.empty?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="88">
          
          
          <code class="ruby">      err = raise StandardError.new(Constants::ERROR_PREFIX + Constants::RUN_ENVIRONMENT)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="89">
          
          
          <code class="ruby">      ApiException.new.apiexception(err,log_obj)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="32" data-linenumber="91">
          <span class="hits">32</span>
          
          <code class="ruby">    if @authenticationType.upcase == Constants::AUTH_TYPE_JWT</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="92">
          <span class="hits">30</span>
          
          <code class="ruby">      if @keyAlias.to_s.empty?</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="93">
          <span class="hits">1</span>
          
          <code class="ruby">        @keyAlias = @merchantId</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="94">
          <span class="hits">1</span>
          
          <code class="ruby">        ApiException.new.apiwarning(Constants::WARNING_PREFIX + Constants::KEY_ALIAS_NULL_EMPTY, log_obj)</code>
        </li>
      
        <li class="covered" data-hits="29" data-linenumber="95">
          <span class="hits">29</span>
          
          <code class="ruby">      elsif !@keyAlias.instance_of? String</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="96">
          <span class="hits">1</span>
          
          <code class="ruby">        @keyAlias=@keyAlias.to_s</code>
        </li>
      
        <li class="covered" data-hits="28" data-linenumber="97">
          <span class="hits">28</span>
          
          <code class="ruby">      elsif @keyAlias != @merchantId</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="98">
          <span class="hits">1</span>
          
          <code class="ruby">        @keyAlias = @merchantId</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="99">
          <span class="hits">1</span>
          
          <code class="ruby">        ApiException.new.apiwarning(Constants::WARNING_PREFIX + Constants::INCORRECT_KEY_ALIAS, log_obj)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="101">
          <span class="hits">30</span>
          
          <code class="ruby">      if @keyPass.to_s.empty?</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="102">
          <span class="hits">1</span>
          
          <code class="ruby">        @keyPass = @merchantId</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="103">
          <span class="hits">1</span>
          
          <code class="ruby">        ApiException.new.apiwarning(Constants::WARNING_PREFIX + Constants::KEY_PASS_NULL, log_obj)</code>
        </li>
      
        <li class="covered" data-hits="29" data-linenumber="104">
          <span class="hits">29</span>
          
          <code class="ruby">      elsif !@keyPass.instance_of? String</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="105">
          <span class="hits">1</span>
          
          <code class="ruby">        @keyPass=@keyPass.to_s</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="107">
          <span class="hits">30</span>
          
          <code class="ruby">      if @keysDirectory.to_s.empty?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="108">
          
          
          <code class="ruby">        @keysDirectory = Constants::DEFAULT_KEY_DIRECTORY</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="109">
          
          
          <code class="ruby">        ApiException.new.apiwarning(Constants::WARNING_PREFIX + Constants::KEY_DIRECTORY_EMPTY + @keysDirectory, log_obj)</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="110">
          <span class="hits">30</span>
          
          <code class="ruby">      elsif !@keysDirectory.instance_of? String</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="111">
          <span class="hits">1</span>
          
          <code class="ruby">        @keysDirectory=@keysDirectory.to_s</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="113">
          <span class="hits">30</span>
          
          <code class="ruby">      if @keyFilename.to_s.empty?</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="114">
          <span class="hits">1</span>
          
          <code class="ruby">        @keyFilename = @merchantId</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="115">
          <span class="hits">1</span>
          
          <code class="ruby">        ApiException.new.apiwarning(Constants::WARNING_PREFIX + Constants::KEY_FILE_NAME_NULL_EMPTY, log_obj)</code>
        </li>
      
        <li class="covered" data-hits="29" data-linenumber="116">
          <span class="hits">29</span>
          
          <code class="ruby">      elsif !@keyFilename.instance_of? String</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="117">
          <span class="hits">1</span>
          
          <code class="ruby">        @keyFilename=@keyFilename.to_s</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="118">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="32" data-linenumber="120">
          <span class="hits">32</span>
          
          <code class="ruby">    if @authenticationType.upcase == Constants::AUTH_TYPE_HTTP</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="121">
          <span class="hits">2</span>
          
          <code class="ruby">      if @merchantKeyId.to_s.empty?</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="122">
          <span class="hits">1</span>
          
          <code class="ruby">        err = raise StandardError.new(Constants::ERROR_PREFIX+ Constants::MERCHANT_KEY_ID_MANDATORY)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="123">
          
          
          <code class="ruby">        ApiException.new.apiexception(err,log_obj)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="124">
          <span class="hits">1</span>
          
          <code class="ruby">      elsif !@merchantKeyId.instance_of? String</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="125">
          
          
          <code class="ruby">        @merchantKeyId=@merchantKeyId.to_s</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="127">
          <span class="hits">1</span>
          
          <code class="ruby">      if @merchantSecretKey.to_s.empty?</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="128">
          <span class="hits">1</span>
          
          <code class="ruby">        err = raise StandardError.new(Constants::ERROR_PREFIX+ Constants::MERCHANT_SECRET_KEY_MANDATORY) </code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="129">
          
          
          <code class="ruby">        ApiException.new.apiexception(err,log_obj)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="130">
          
          
          <code class="ruby">      elsif !@merchantSecretKey.instance_of? String</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="131">
          
          
          <code class="ruby">        @merchantSecretKey=@merchantSecretKey.to_s</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="132">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="133">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="134">
          <span class="hits">30</span>
          
          <code class="ruby">    if !@proxyAddress.instance_of? String</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="135">
          <span class="hits">30</span>
          
          <code class="ruby">      @proxyAddress=@proxyAddress.to_s</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="137">
          <span class="hits">30</span>
          
          <code class="ruby">    if !@proxyPort.instance_of? String</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="138">
          <span class="hits">30</span>
          
          <code class="ruby">      @proxyPort=@proxyPort.to_s</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="140">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="141">
          <span class="hits">1</span>
          
          <code class="ruby">  def logAllProperties(propertyObj)</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="142">
          <span class="hits">30</span>
          
          <code class="ruby">    merchantConfig = &#39;&#39;</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="143">
          <span class="hits">30</span>
          
          <code class="ruby">    hiddenProperties = (Constants::HIDDEN_MERCHANT_PROPERTIES).split(&#39;,&#39;)</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="144">
          <span class="hits">30</span>
          
          <code class="ruby">    hiddenPropArray = Array.new</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="145">
          <span class="hits">30</span>
          
          <code class="ruby">    hiddenProperties.each do |value|</code>
        </li>
      
        <li class="covered" data-hits="150" data-linenumber="146">
          <span class="hits">150</span>
          
          <code class="ruby">      hiddenPropArray &lt;&lt; value.strip</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="148">
          <span class="hits">30</span>
          
          <code class="ruby">    hiddenPropArray.each do |prop|</code>
        </li>
      
        <li class="covered" data-hits="150" data-linenumber="149">
          <span class="hits">150</span>
          
          <code class="ruby">      propertyObj.each do |key, value|</code>
        </li>
      
        <li class="covered" data-hits="2100" data-linenumber="150">
          <span class="hits">2100</span>
          
          <code class="ruby">        if key == prop</code>
        </li>
      
        <li class="covered" data-hits="150" data-linenumber="151">
          <span class="hits">150</span>
          
          <code class="ruby">          propertyObj.delete(key)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="152">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="153">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="155">
          <span class="hits">30</span>
          
          <code class="ruby">    @log_obj.logger.info(&#39;MERCHCFG &gt;&#39; + propertyObj.to_s)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="157">
          
          
          <code class="ruby">   </code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="158">
          
          
          <code class="ruby">  # getter and setter methods</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="159">
          <span class="hits">1</span>
          
          <code class="ruby">  attr_accessor :merchantId</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="160">
          <span class="hits">1</span>
          
          <code class="ruby">  attr_accessor :merchantSecretKey</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="161">
          <span class="hits">1</span>
          
          <code class="ruby">  attr_accessor :merchantKeyId</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="162">
          <span class="hits">1</span>
          
          <code class="ruby">  attr_accessor :authenticationType</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="163">
          <span class="hits">1</span>
          
          <code class="ruby">  attr_accessor :keysDirectory</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="164">
          <span class="hits">1</span>
          
          <code class="ruby">  attr_accessor :requestHost</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="165">
          <span class="hits">1</span>
          
          <code class="ruby">  attr_accessor :keyAlias</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="166">
          <span class="hits">1</span>
          
          <code class="ruby">  attr_accessor :keyPass</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="167">
          <span class="hits">1</span>
          
          <code class="ruby">  attr_accessor :keyFilename</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="168">
          <span class="hits">1</span>
          
          <code class="ruby">  attr_accessor :requestJsonData</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="169">
          <span class="hits">1</span>
          
          <code class="ruby">  attr_accessor :requestUrl</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="170">
          <span class="hits">1</span>
          
          <code class="ruby">  attr_accessor :requestType</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="171">
          <span class="hits">1</span>
          
          <code class="ruby">  attr_accessor :getId</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="172">
          <span class="hits">1</span>
          
          <code class="ruby">  attr_accessor :logDirectory</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="173">
          <span class="hits">1</span>
          
          <code class="ruby">  attr_accessor :logFilename</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="174">
          <span class="hits">1</span>
          
          <code class="ruby">  attr_accessor :enableLog</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="175">
          <span class="hits">1</span>
          
          <code class="ruby">  attr_accessor :logSize</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="176">
          <span class="hits">1</span>
          
          <code class="ruby">  attr_accessor :logger</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="177">
          <span class="hits">1</span>
          
          <code class="ruby">  attr_accessor :proxyAddress</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="178">
          <span class="hits">1</span>
          
          <code class="ruby">  attr_accessor :proxyPort</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="179">
          <span class="hits">1</span>
          
          <code class="ruby">  attr_accessor :requestTarget</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="180">
          <span class="hits">1</span>
          
          <code class="ruby">  attr_accessor :log_obj</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="181">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="792fbf7e83238d527a0199f84d2930864a77d36e">
  <div class="header">
    <h3>spec/MerchantConfigData.rb</h3>
    <h4><span class="green">94.12 %</span> covered</h4>
    <div>
      <b>51</b> relevant lines. 
      <span class="green"><b>48</b> lines covered</span> and
      <span class="red"><b>3</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="1" data-linenumber="1">
          <span class="hits">1</span>
          
          <code class="ruby">public</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2">
          <span class="hits">1</span>
          
          <code class="ruby">class MerchantConfigData</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="3">
          <span class="hits">1</span>
          
          <code class="ruby">    def merchantConfigProp()</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="4">
          <span class="hits">35</span>
          
          <code class="ruby">        merchantId=&#39;testrest&#39;</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="5">
          <span class="hits">35</span>
          
          <code class="ruby">        runEnvironment=&#39;cybersource.environment.sandbox&#39;</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="6">
          <span class="hits">35</span>
          
          <code class="ruby">        timeout=1000 #In Milliseconds</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="7">
          <span class="hits">35</span>
          
          <code class="ruby">        authenticationType=&#39;JWT&#39; #&#39;HTTP_Signature&#39;</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="8">
          <span class="hits">35</span>
          
          <code class="ruby">        logDirectory=&#39;../../../AuthenticationSDK/src/log&#39;</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="9">
          <span class="hits">35</span>
          
          <code class="ruby">        logDirectory=File.expand_path(logDirectory,__FILE__)</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="10">
          <span class="hits">35</span>
          
          <code class="ruby">        jsonFilePath=&#39;./PostRequestData.json&#39;</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="11">
          <span class="hits">35</span>
          
          <code class="ruby">        logSize=10485760</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="12">
          <span class="hits">35</span>
          
          <code class="ruby">        enableLog=true</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="13">
          <span class="hits">35</span>
          
          <code class="ruby">        proxyAddress=&#39;userproxy.visa.com&#39;</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="14">
          <span class="hits">35</span>
          
          <code class="ruby">        proxyPort=443</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">        # HTTP Parameters</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="16">
          <span class="hits">35</span>
          
          <code class="ruby">        merchantSecretKey=&#39;yBJxy6LjM2TmcPGu+GaJrHtkke25fPpUX+UY6/L/1tE=&#39;</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="17">
          <span class="hits">35</span>
          
          <code class="ruby">        merchantKeyId=&#39;08c94330-f618-42a3-b09d-e1e43be5efda&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">        # JWT Parameters</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="19">
          <span class="hits">35</span>
          
          <code class="ruby">        keysDirectory=&#39;../../../AuthenticationSDK/resource&#39;</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="20">
          <span class="hits">35</span>
          
          <code class="ruby">        keysDirectory=File.expand_path(keysDirectory,__FILE__)</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="21">
          <span class="hits">35</span>
          
          <code class="ruby">        keyAlias=&#39;testrest&#39;</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="22">
          <span class="hits">35</span>
          
          <code class="ruby">        keyPass=&#39;testrest&#39;</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="23">
          <span class="hits">35</span>
          
          <code class="ruby">        keyFilename=&#39;testrest&#39;</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="24">
          <span class="hits">35</span>
          
          <code class="ruby">        logFilename=&#39;Cybs&#39;</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="25">
          <span class="hits">35</span>
          
          <code class="ruby">        configurationDictionary={}</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="26">
          <span class="hits">35</span>
          
          <code class="ruby">        configurationDictionary[&#39;merchantID&#39;]=merchantId</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="27">
          <span class="hits">35</span>
          
          <code class="ruby">        configurationDictionary[&#39;runEnvironment&#39;]=runEnvironment</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="28">
          <span class="hits">35</span>
          
          <code class="ruby">        configurationDictionary[&#39;timeout&#39;]=timeout</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="29">
          <span class="hits">35</span>
          
          <code class="ruby">        configurationDictionary[&#39;authenticationType&#39;]=authenticationType</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="30">
          <span class="hits">35</span>
          
          <code class="ruby">        configurationDictionary[&#39;logDirectory&#39;]=logDirectory</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="31">
          <span class="hits">35</span>
          
          <code class="ruby">        configurationDictionary[&#39;jsonFilePath&#39;]=jsonFilePath</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="32">
          <span class="hits">35</span>
          
          <code class="ruby">        configurationDictionary[&#39;logSize&#39;]=logSize</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="33">
          <span class="hits">35</span>
          
          <code class="ruby">        configurationDictionary[&#39;enableLog&#39;]=enableLog</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="34">
          <span class="hits">35</span>
          
          <code class="ruby">        configurationDictionary[&#39;proxyPort&#39;]=proxyPort</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="35">
          <span class="hits">35</span>
          
          <code class="ruby">        configurationDictionary[&#39;merchantsecretKey&#39;]=merchantSecretKey</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="36">
          <span class="hits">35</span>
          
          <code class="ruby">        configurationDictionary[&#39;merchantKeyId&#39;]=merchantKeyId</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="37">
          <span class="hits">35</span>
          
          <code class="ruby">        configurationDictionary[&#39;keysDirectory&#39;]=keysDirectory</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="38">
          <span class="hits">35</span>
          
          <code class="ruby">        configurationDictionary[&#39;keyAlias&#39;]=keyAlias</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="39">
          <span class="hits">35</span>
          
          <code class="ruby">        configurationDictionary[&#39;keyPass&#39;]=keyPass</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="40">
          <span class="hits">35</span>
          
          <code class="ruby">        configurationDictionary[&#39;keyFilename&#39;] = keyFilename</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="41">
          <span class="hits">35</span>
          
          <code class="ruby">        configurationDictionary[&#39;logFilename&#39;] = logFilename</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="42">
          <span class="hits">35</span>
          
          <code class="ruby">        return configurationDictionary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="44">
          <span class="hits">1</span>
          
          <code class="ruby">    def setLog(logDirectory, logFilename, logSize, enableLog)</code>
        </li>
      
        <li class="covered" data-hits="16" data-linenumber="45">
          <span class="hits">16</span>
          
          <code class="ruby">        if enableLog == true</code>
        </li>
      
        <li class="covered" data-hits="16" data-linenumber="46">
          <span class="hits">16</span>
          
          <code class="ruby">            filename = logDirectory + &#39;/&#39; + logFilename + &#39;.log&#39;</code>
        </li>
      
        <li class="covered" data-hits="16" data-linenumber="47">
          <span class="hits">16</span>
          
          <code class="ruby">            datetime = DateTime.now</code>
        </li>
      
        <li class="covered" data-hits="16" data-linenumber="48">
          <span class="hits">16</span>
          
          <code class="ruby">            if File.exist?(filename) &amp;&amp; File.size(filename) &gt;= logSize</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="49">
          
          
          <code class="ruby">              updatedFileName = logDirectory + &#39;/&#39; + logFilename + &#39;_&#39; + datetime.strftime(&#39;%Y%m%d%H%M%S&#39;) + &#39;.log&#39;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="50">
          
          
          <code class="ruby">              File.rename(filename, updatedFileName)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="covered" data-hits="16" data-linenumber="52">
          <span class="hits">16</span>
          
          <code class="ruby">            @logger = Logger.new(STDOUT)</code>
        </li>
      
        <li class="covered" data-hits="16" data-linenumber="53">
          <span class="hits">16</span>
          
          <code class="ruby">            @logger = Logger.new(filename, logSize)</code>
        </li>
      
        <li class="covered" data-hits="16" data-linenumber="54">
          <span class="hits">16</span>
          
          <code class="ruby">            @logger.datetime_format = datetime.strftime(&#39;%Y-%m-%d %H:%M:%S&#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="56">
          
          
          <code class="ruby">            @logger = Logger.new(false)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="8d74fa69178c94034b491c1fe926eafb1ebe34d7">
  <div class="header">
    <h3>spec/MerchantConfig_spec.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>95</b> relevant lines. 
      <span class="green"><b>95</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="1" data-linenumber="1">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;./MerchantConfigData.rb&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;./spec_helper&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="4">
          <span class="hits">1</span>
          
          <code class="ruby">describe Merchantconfig do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="5">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;Validating enablelog as null MerchantConfig File&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="6">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj=MerchantConfigData.new.merchantConfigProp</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="7">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj[&#39;enableLog&#39;]=&#39;&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">        merchantConfigObj=Merchantconfig.new cybsPropertyobj</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="9">
          <span class="hits">1</span>
          
          <code class="ruby">        expect(merchantConfigObj.enableLog).to eq true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="11">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;Validating logFileName as null MerchantConfig File&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="12">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj=MerchantConfigData.new.merchantConfigProp</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="13">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj[&#39;logFilename&#39;]=&#39;&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="14">
          <span class="hits">1</span>
          
          <code class="ruby">        merchantConfigObj=Merchantconfig.new cybsPropertyobj</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="15">
          <span class="hits">1</span>
          
          <code class="ruby">        expect(merchantConfigObj.logFilename).to eq &#39;cybs&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="17">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;Validating enableLog as fixnum in MerchantConfig File&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="18">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj=MerchantConfigData.new.merchantConfigProp</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="19">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj[&#39;enableLog&#39;]=123</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="20">
          <span class="hits">1</span>
          
          <code class="ruby">        merchantConfigObj=Merchantconfig.new cybsPropertyobj</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="21">
          <span class="hits">1</span>
          
          <code class="ruby">        expect(merchantConfigObj.enableLog).to eq &#39;123&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="23">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;Validating logDirectory as fixnum in MerchantConfig File&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="24">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj=MerchantConfigData.new.merchantConfigProp</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="25">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj[&#39;logDirectory&#39;]=&#39;&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="26">
          <span class="hits">1</span>
          
          <code class="ruby">        merchantConfigObj=Merchantconfig.new cybsPropertyobj</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="27">
          <span class="hits">1</span>
          
          <code class="ruby">        expect(merchantConfigObj.logDirectory).to eq &#39;../log&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="29">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;Validating RunEnvironment as Prod MerchantConfig File&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="30">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj=MerchantConfigData.new.merchantConfigProp</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="31">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj[&#39;runEnvironment&#39;]=&#39;Cybersource.Environment.Production&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="32">
          <span class="hits">1</span>
          
          <code class="ruby">        merchantConfigObj=Merchantconfig.new cybsPropertyobj</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="33">
          <span class="hits">1</span>
          
          <code class="ruby">        expect(merchantConfigObj.requestHost).to eq &#39;api.cybersource.com&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="35">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;Validating RunEnvironment as default MerchantConfig File&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="36">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj=MerchantConfigData.new.merchantConfigProp</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="37">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj[&#39;runEnvironment&#39;]=&#39;api.cybersource.com&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="38">
          <span class="hits">1</span>
          
          <code class="ruby">        merchantConfigObj=Merchantconfig.new cybsPropertyobj</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="39">
          <span class="hits">1</span>
          
          <code class="ruby">        expect(merchantConfigObj.requestHost).to eq &#39;api.cybersource.com&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="41">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;Validating MerchantId as empty in MerchantConfig File&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="42">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj=MerchantConfigData.new.merchantConfigProp</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="43">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj[&#39;merchantID&#39;]=&#39;&#39;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="44">
          <span class="hits">2</span>
          
          <code class="ruby">        expect { Merchantconfig.new cybsPropertyobj }.to raise_error(StandardError)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="46">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;Validating authenticationType as empty in MerchantConfig File&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="47">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj=MerchantConfigData.new.merchantConfigProp</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="48">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj[&#39;authenticationType&#39;]=&#39;&#39;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="49">
          <span class="hits">2</span>
          
          <code class="ruby">        expect { Merchantconfig.new cybsPropertyobj }.to raise_error(StandardError)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="51">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;Validating authenticationType as Fixnum in MerchantConfig File&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="52">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj=MerchantConfigData.new.merchantConfigProp</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="53">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj[&#39;authenticationType&#39;]=123</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="54">
          <span class="hits">2</span>
          
          <code class="ruby">        expect { Merchantconfig.new cybsPropertyobj }.to raise_error(StandardError)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">    # it &#39;Validating RunEnvironment as empty MerchantConfig File&#39; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">    #     cybsPropertyobj=MerchantConfigData.new.merchantConfigProp</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">    #     cybsPropertyobj[&#39;runEnvironment&#39;]=&#39;&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">    #     expect { Merchantconfig.new cybsPropertyobj }.to raise_error(StandardError)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">    # end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="61">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;Validating keyAlias as Fixnum MerchantConfig File&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="62">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj=MerchantConfigData.new.merchantConfigProp</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="63">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj[&#39;keyAlias&#39;]=123</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="64">
          <span class="hits">1</span>
          
          <code class="ruby">        merchantConfigObj=Merchantconfig.new cybsPropertyobj</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="65">
          <span class="hits">1</span>
          
          <code class="ruby">        expect(merchantConfigObj.keyAlias).to eq &#39;123&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="67">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;Validating keyPass as Fixnum MerchantConfig File&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="68">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj=MerchantConfigData.new.merchantConfigProp</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="69">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj[&#39;keyPass&#39;]=123</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="70">
          <span class="hits">1</span>
          
          <code class="ruby">        merchantConfigObj=Merchantconfig.new cybsPropertyobj</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="71">
          <span class="hits">1</span>
          
          <code class="ruby">        expect(merchantConfigObj.keyPass).to eq &#39;123&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="73">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;Validating keysDirectory as Fixnum MerchantConfig File&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="74">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj=MerchantConfigData.new.merchantConfigProp</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="75">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj[&#39;keysDirectory&#39;]=123</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="76">
          <span class="hits">1</span>
          
          <code class="ruby">        merchantConfigObj=Merchantconfig.new cybsPropertyobj</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="77">
          <span class="hits">1</span>
          
          <code class="ruby">        expect(merchantConfigObj.keysDirectory).to eq &#39;123&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="79">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;Validating keyFilename as Fixnum MerchantConfig File&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="80">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj=MerchantConfigData.new.merchantConfigProp</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="81">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj[&#39;keyFilename&#39;]=123</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="82">
          <span class="hits">1</span>
          
          <code class="ruby">        merchantConfigObj=Merchantconfig.new cybsPropertyobj</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="83">
          <span class="hits">1</span>
          
          <code class="ruby">        expect(merchantConfigObj.keyFilename).to eq &#39;123&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="85">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;Validating keyAlias as empty MerchantConfig File&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="86">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj=MerchantConfigData.new.merchantConfigProp</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="87">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj[&#39;keyAlias&#39;]=&#39;&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="88">
          <span class="hits">1</span>
          
          <code class="ruby">        merchantConfigObj=Merchantconfig.new cybsPropertyobj</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="89">
          <span class="hits">1</span>
          
          <code class="ruby">        expect(merchantConfigObj.keyAlias).to eq &#39;testrest&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="91">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;Validating keyAlias not equal to merchantId MerchantConfig File&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="92">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj=MerchantConfigData.new.merchantConfigProp</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="93">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj[&#39;keyAlias&#39;]=&#39;test&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="94">
          <span class="hits">1</span>
          
          <code class="ruby">        merchantConfigObj=Merchantconfig.new cybsPropertyobj</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="95">
          <span class="hits">1</span>
          
          <code class="ruby">        expect(merchantConfigObj.keyAlias).to eq &#39;testrest&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="97">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;Validating keyPass as empty MerchantConfig File&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="98">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj=MerchantConfigData.new.merchantConfigProp</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="99">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj[&#39;keyPass&#39;]=&#39;&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="100">
          <span class="hits">1</span>
          
          <code class="ruby">        merchantConfigObj=Merchantconfig.new cybsPropertyobj</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="101">
          <span class="hits">1</span>
          
          <code class="ruby">        expect(merchantConfigObj.keyPass).to eq &#39;testrest&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="103">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;Validating keyFilename as empty MerchantConfig File&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="104">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj=MerchantConfigData.new.merchantConfigProp</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="105">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj[&#39;keyFilename&#39;]=&#39;&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="106">
          <span class="hits">1</span>
          
          <code class="ruby">        merchantConfigObj=Merchantconfig.new cybsPropertyobj</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="107">
          <span class="hits">1</span>
          
          <code class="ruby">        expect(merchantConfigObj.keyFilename).to eq &#39;testrest&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="109">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;Validating merchantKeyId as empty MerchantConfig File&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="110">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj=MerchantConfigData.new.merchantConfigProp</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="111">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj[&#39;merchantKeyId&#39;]=&#39;&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="112">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj[&#39;authenticationType&#39;]=&#39;http_signature&#39;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="113">
          <span class="hits">2</span>
          
          <code class="ruby">        expect { Merchantconfig.new cybsPropertyobj }.to raise_error(StandardError)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="115">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;Validating merchantSecretKey as empty MerchantConfig File&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="116">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj=MerchantConfigData.new.merchantConfigProp</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="117">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj[&#39;merchantsecretKey&#39;]=&#39;&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="118">
          <span class="hits">1</span>
          
          <code class="ruby">        cybsPropertyobj[&#39;authenticationType&#39;]=&#39;http_signature&#39;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="119">
          <span class="hits">2</span>
          
          <code class="ruby">        expect { Merchantconfig.new cybsPropertyobj }.to raise_error(StandardError)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="121">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="165cae6912e430a254ce278b8f23e42b88e99b61">
  <div class="header">
    <h3>spec/ResponseCodeMessage_spec.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>47</b> relevant lines. 
      <span class="green"><b>47</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="1" data-linenumber="1">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;./spec_helper&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2">
          <span class="hits">1</span>
          
          <code class="ruby">require_relative &#39;../util/Utility.rb&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="4">
          <span class="hits">1</span>
          
          <code class="ruby">describe Utility do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="5">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;validating responsecode for 200&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="6">
          <span class="hits">1</span>
          
          <code class="ruby">        responsecode = 200</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="7">
          <span class="hits">1</span>
          
          <code class="ruby">        responsemessage = Utility.new.getResponseCodeMessage(responsecode)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">        expect(responsemessage).to eq &#39;Transcation Successful&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="10">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;validating responsecode for 201&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="11">
          <span class="hits">1</span>
          
          <code class="ruby">        responsecode = 200</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="12">
          <span class="hits">1</span>
          
          <code class="ruby">        responsemessage = Utility.new.getResponseCodeMessage(responsecode)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="13">
          <span class="hits">1</span>
          
          <code class="ruby">        expect(responsemessage).to eq &#39;Transcation Successful&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="15">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;validating responsecode for 400&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="16">
          <span class="hits">1</span>
          
          <code class="ruby">        responsecode = 400</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="17">
          <span class="hits">1</span>
          
          <code class="ruby">        responsemessage = Utility.new.getResponseCodeMessage(responsecode)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="18">
          <span class="hits">1</span>
          
          <code class="ruby">        expect(responsemessage).to eq &#39;Bad Request&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="20">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;validating responsecode for 401&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="21">
          <span class="hits">1</span>
          
          <code class="ruby">        responsecode = 401</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="22">
          <span class="hits">1</span>
          
          <code class="ruby">        responsemessage = Utility.new.getResponseCodeMessage(responsecode)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="23">
          <span class="hits">1</span>
          
          <code class="ruby">        expect(responsemessage).to eq &#39;Authentication Failed&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="25">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;validating responsecode for 403&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="26">
          <span class="hits">1</span>
          
          <code class="ruby">        responsecode = 403</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="27">
          <span class="hits">1</span>
          
          <code class="ruby">        responsemessage = Utility.new.getResponseCodeMessage(responsecode)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="28">
          <span class="hits">1</span>
          
          <code class="ruby">        expect(responsemessage).to eq &#39;Forbidden&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="30">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;validating responsecode for 404&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="31">
          <span class="hits">1</span>
          
          <code class="ruby">        responsecode = 404</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="32">
          <span class="hits">1</span>
          
          <code class="ruby">        responsemessage = Utility.new.getResponseCodeMessage(responsecode)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="33">
          <span class="hits">1</span>
          
          <code class="ruby">        expect(responsemessage).to eq &#39;Not Found&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="35">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;validating responsecode for 500&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="36">
          <span class="hits">1</span>
          
          <code class="ruby">        responsecode = 500</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="37">
          <span class="hits">1</span>
          
          <code class="ruby">        responsemessage = Utility.new.getResponseCodeMessage(responsecode)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="38">
          <span class="hits">1</span>
          
          <code class="ruby">        expect(responsemessage).to eq &#39;Internal Server Error&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="40">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;validating responsecode for 502&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="41">
          <span class="hits">1</span>
          
          <code class="ruby">        responsecode = 502</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="42">
          <span class="hits">1</span>
          
          <code class="ruby">        responsemessage = Utility.new.getResponseCodeMessage(responsecode)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="43">
          <span class="hits">1</span>
          
          <code class="ruby">        expect(responsemessage).to eq &#39;Bad Gateway&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="45">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;validating responsecode for 503&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="46">
          <span class="hits">1</span>
          
          <code class="ruby">        responsecode = 503</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="47">
          <span class="hits">1</span>
          
          <code class="ruby">        responsemessage = Utility.new.getResponseCodeMessage(responsecode)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="48">
          <span class="hits">1</span>
          
          <code class="ruby">        expect(responsemessage).to eq &#39;Service Unavailable&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="50">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;validating responsecode for 504&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="51">
          <span class="hits">1</span>
          
          <code class="ruby">        responsecode = 504</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="52">
          <span class="hits">1</span>
          
          <code class="ruby">        responsemessage = Utility.new.getResponseCodeMessage(responsecode)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="53">
          <span class="hits">1</span>
          
          <code class="ruby">        expect(responsemessage).to eq &#39;Gateway Timeout&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="55">
          <span class="hits">1</span>
          
          <code class="ruby">    it &#39;validating responsecode for invalid&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="56">
          <span class="hits">1</span>
          
          <code class="ruby">        responsecode = 000</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="57">
          <span class="hits">1</span>
          
          <code class="ruby">        responsemessage = Utility.new.getResponseCodeMessage(responsecode)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="58">
          <span class="hits">1</span>
          
          <code class="ruby">        expect(responsemessage).to eq &#39;&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="dd8c6e76d9c50aa8ddf07394abebd08f422f0c45">
  <div class="header">
    <h3>util/ApiException.rb</h3>
    <h4><span class="red">50.0 %</span> covered</h4>
    <div>
      <b>14</b> relevant lines. 
      <span class="green"><b>7</b> lines covered</span> and
      <span class="red"><b>7</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="1" data-linenumber="1">
          <span class="hits">1</span>
          
          <code class="ruby">public</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2">
          <span class="hits">1</span>
          
          <code class="ruby">class ApiException</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="3">
          <span class="hits">1</span>
          
          <code class="ruby">  def apiexception(err,log_Obj)</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="4">
          <span class="hits">12</span>
          
          <code class="ruby">    log_Obj.logger.error(err.message)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="5">
          
          
          <code class="ruby">    if !err.backtrace.to_s.empty?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="6">
          
          
          <code class="ruby">      log_Obj.logger.error(err.backtrace)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="8">
          
          
          <code class="ruby">    log_Obj.logger.info(&#39;END&gt; =======================================&#39;)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="9">
          
          
          <code class="ruby">    puts &#39;Check log for more details.&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="11">
          <span class="hits">1</span>
          
          <code class="ruby">  def apiwarning(message,log_Obj)</code>
        </li>
      
        <li class="covered" data-hits="39" data-linenumber="12">
          <span class="hits">39</span>
          
          <code class="ruby">    log_Obj.logger.warn(message)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="14">
          <span class="hits">1</span>
          
          <code class="ruby">  def customerror(message,log_Obj)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="15">
          
          
          <code class="ruby">    log_Obj.logger.error(message)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="16">
          
          
          <code class="ruby">    log_Obj.logger.info(&#39;END&gt; =======================================&#39;)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="17">
          
          
          <code class="ruby">    puts &#39;Check log for more details.&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="f9ace1f265257fc3faa9b00539a2a78948bd07d1">
  <div class="header">
    <h3>util/Cache.rb</h3>
    <h4><span class="red">79.17 %</span> covered</h4>
    <div>
      <b>24</b> relevant lines. 
      <span class="green"><b>19</b> lines covered</span> and
      <span class="red"><b>5</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="1" data-linenumber="1">
          <span class="hits">1</span>
          
          <code class="ruby">require &#39;openssl&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2">
          <span class="hits">1</span>
          
          <code class="ruby">require &#39;base64&#39;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="3">
          <span class="hits">1</span>
          
          <code class="ruby">public</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"># P12 file certificate Cache</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="5">
          <span class="hits">1</span>
          
          <code class="ruby">class Cache</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="6">
          <span class="hits">1</span>
          
          <code class="ruby">  def fetchCachedCertificate(filePath, p12File, keyPass, cacheObj)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="7">
          <span class="hits">4</span>
          
          <code class="ruby">    certCache = cacheObj.read(&#39;certiFromP12File&#39;)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="8">
          <span class="hits">4</span>
          
          <code class="ruby">    cachedLastModifiedTimeStamp = cacheObj.read(&#39;certificateLastModifiedTimeStamp&#39;)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="9">
          <span class="hits">4</span>
          
          <code class="ruby">    if File.exist?(filePath)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="10">
          <span class="hits">4</span>
          
          <code class="ruby">      currentFileLastModifiedTime = File.mtime(filePath)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="11">
          <span class="hits">4</span>
          
          <code class="ruby">      if certCache.to_s.empty? || cachedLastModifiedTimeStamp.to_s.empty?</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="12">
          <span class="hits">4</span>
          
          <code class="ruby">      certificateFromP12File = getCertificate(p12File, keyPass, cacheObj, currentFileLastModifiedTime)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="13">
          <span class="hits">4</span>
          
          <code class="ruby">      return certificateFromP12File</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="14">
          
          
          <code class="ruby">      elsif currentFileLastModifiedTime &gt; cachedLastModifiedTimeStamp</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">      # Function call to read the file and put values to new cache </code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="16">
          
          
          <code class="ruby">      certificateFromP12File = getCertificate(p12File, keyPass, cacheObj, currentFileLastModifiedTime)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="17">
          
          
          <code class="ruby">      return certificateFromP12File</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="19">
          
          
          <code class="ruby">      return certCache</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="22">
          
          
          <code class="ruby">      raise Constants::ERROR_PREFIX + Constants::FILE_NOT_FOUND + filePath</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="26">
          <span class="hits">1</span>
          
          <code class="ruby">  def getCertificate(p12File, keyPass, cacheObj, currentFileLastModifiedTime)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="27">
          <span class="hits">4</span>
          
          <code class="ruby">    p12FilePath = OpenSSL::PKCS12.new(p12File, keyPass)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">    # Generating certificate from p12File.</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="29">
          <span class="hits">4</span>
          
          <code class="ruby">    x5CertPem = OpenSSL::X509::Certificate.new(p12FilePath.certificate)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">    # Converting Certificate format from PEM TO DER to remove header and footer of the certificate.</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="31">
          <span class="hits">4</span>
          
          <code class="ruby">    x5CertDer = Base64.strict_encode64(x5CertPem.to_der)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="32">
          <span class="hits">4</span>
          
          <code class="ruby">    cacheObj.write(&#39;certiFromP12File&#39;, x5CertDer)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="33">
          <span class="hits">4</span>
          
          <code class="ruby">    cacheObj.write(&#39;certificateLastModifiedTimeStamp&#39;, currentFileLastModifiedTime)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="34">
          <span class="hits">4</span>
          
          <code class="ruby">    return x5CertDer</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="66662c852caedb63ee4bfd2bc818bf539ff2af44">
  <div class="header">
    <h3>util/Constants.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>67</b> relevant lines. 
      <span class="green"><b>67</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="1" data-linenumber="1">
          <span class="hits">1</span>
          
          <code class="ruby">class Constants</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="3">
          <span class="hits">1</span>
          
          <code class="ruby">    GET_REQUEST_TYPE_LOWER = &#39;get&#39; unless const_defined?(:GET_REQUEST_TYPE_LOWER)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="5">
          <span class="hits">1</span>
          
          <code class="ruby">    POST_REQUEST_TYPE_LOWER = &#39;post&#39; unless const_defined?(:POST_REQUEST_TYPE_LOWER)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="7">
          <span class="hits">1</span>
          
          <code class="ruby">    PUT_REQUEST_TYPE_LOWER = &#39;put&#39; unless const_defined?(:PUT_REQUEST_TYPE_LOWER)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="9">
          <span class="hits">1</span>
          
          <code class="ruby">    PATCH_REQUEST_TYPE_LOWER = &#39;patch&#39; unless const_defined?(:PATCH_REQUEST_TYPE_LOWER)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="11">
          <span class="hits">1</span>
          
          <code class="ruby">    DELETE_REQUEST_TYPE_LOWER = &#39;delete&#39; unless const_defined?(:DELETE_REQUEST_TYPE_LOWER)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="13">
          <span class="hits">1</span>
          
          <code class="ruby">    GET_REQUEST_TYPE = &#39;GET&#39; unless const_defined?(:GET_REQUEST_TYPE)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="15">
          <span class="hits">1</span>
          
          <code class="ruby">    POST_REQUEST_TYPE = &#39;POST&#39; unless const_defined?(:POST_REQUEST_TYPE)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="17">
          <span class="hits">1</span>
          
          <code class="ruby">    PUT_REQUEST_TYPE = &#39;PUT&#39; unless const_defined?(:PUT_REQUEST_TYPE)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="19">
          <span class="hits">1</span>
          
          <code class="ruby">    PATCH_REQUEST_TYPE = &#39;PATCH&#39; unless const_defined?(:PATCH_REQUEST_TYPE)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="21">
          <span class="hits">1</span>
          
          <code class="ruby">    DELETE_REQUEST_TYPE = &#39;DELETE&#39; unless const_defined?(:DELETE_REQUEST_TYPE)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="23">
          <span class="hits">1</span>
          
          <code class="ruby">    V_C_MERCHANT_ID = &#39;v-c-merchant-id&#39; unless const_defined?(:V_C_MERCHANT_ID)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="25">
          <span class="hits">1</span>
          
          <code class="ruby">    HOST = &#39;host&#39; unless const_defined?(:HOST)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="27">
          <span class="hits">1</span>
          
          <code class="ruby">    DATE = &#39;date&#39; unless const_defined?(:DATE)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="29">
          <span class="hits">1</span>
          
          <code class="ruby">    REQUEST_TARGET = &#39;(request-target)&#39; unless const_defined?(:REQUEST_TARGET)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="31">
          <span class="hits">1</span>
          
          <code class="ruby">    DIGEST = &#39;digest&#39; unless const_defined?(:DIGEST)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="33">
          <span class="hits">1</span>
          
          <code class="ruby">    SIGNATURE = &#39;Signature&#39; unless const_defined?(:SIGNATURE)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="35">
          <span class="hits">1</span>
          
          <code class="ruby">    HTTPS_URI_PREFIX = &#39;https://&#39; unless const_defined?(:HTTPS_URI_PREFIX)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="37">
          <span class="hits">1</span>
          
          <code class="ruby">    BEARER = &#39;Bearer&#39; unless const_defined?(:BEARER)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="39">
          <span class="hits">1</span>
          
          <code class="ruby">    MEDIA_TYPE_JSON = &#39;application/json&#39; unless const_defined?(:MEDIA_TYPE_JSON)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="41">
          <span class="hits">1</span>
          
          <code class="ruby">    SIGNATURE_ALGORITHM = &#39;HmacSHA256&#39; unless const_defined?(:SIGNATURE_ALGORITHM)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="43">
          <span class="hits">1</span>
          
          <code class="ruby">    ALGORITHM = &quot;algorithm=\&quot;&quot; unless const_defined?(:ALGORITHM)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="45">
          <span class="hits">1</span>
          
          <code class="ruby">    SHA256 = &#39;SHA-256=&#39; unless const_defined?(:SHA256)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="47">
          <span class="hits">1</span>
          
          <code class="ruby">    CONTENT_TYPE = &#39;Content-Type&#39; unless const_defined?(:CONTENT_TYPE)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="49">
          <span class="hits">1</span>
          
          <code class="ruby">    USER_AGENT = &#39;User-Agent&#39; unless const_defined?(:USER_AGENT)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="51">
          <span class="hits">1</span>
          
          <code class="ruby">    USER_AGENT_VALUE = &#39;Mozilla/5.0&#39; unless const_defined?(:USER_AGENT_VALUE)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="53">
          <span class="hits">1</span>
          
          <code class="ruby">    KEY_ID = &quot;keyid=\&quot;&quot; unless const_defined?(:KEY_ID)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="55">
          <span class="hits">1</span>
          
          <code class="ruby">    HEADERS_PARAM = &quot;headers=\&quot;&quot; unless const_defined?(:HEADERS_PARAM)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="57">
          <span class="hits">1</span>
          
          <code class="ruby">    SIGNATURE_PARAM = &quot;signature=\&quot;&quot; unless const_defined?(:SIGNATURE_PARAM)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="59">
          <span class="hits">1</span>
          
          <code class="ruby">    AUTH_TYPE_HTTP = &#39;HTTP_SIGNATURE&#39; unless const_defined?(:AUTH_TYPE_HTTP)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="61">
          <span class="hits">1</span>
          
          <code class="ruby">    AUTH_TYPE_JWT = &#39;JWT&#39; unless const_defined?(:AUTH_TYPE_JWT)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="63">
          <span class="hits">1</span>
          
          <code class="ruby">    RUN_ENV_SANDBOX = &#39;CYBERSOURCE.ENVIRONMENT.SANDBOX&#39; unless const_defined?(:RUN_ENV_SANDBOX)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="65">
          <span class="hits">1</span>
          
          <code class="ruby">    RUN_ENV_PROD = &#39;CYBERSOURCE.ENVIRONMENT.PRODUCTION&#39;unless const_defined?(:RUN_ENV_PROD)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="67">
          <span class="hits">1</span>
          
          <code class="ruby">    SANDBOX_URL = &#39;apitest.cybersource.com&#39; unless const_defined?(:SANDBOX_URL)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="69">
          <span class="hits">1</span>
          
          <code class="ruby">    PRODUCTION_URL = &#39;api.cybersource.com&#39; unless const_defined?(:PRODUCTION_URL)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">    # constants for fall back logic</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="73">
          <span class="hits">1</span>
          
          <code class="ruby">    DEFAULT_LOG_SIZE = &#39;10485760&#39; unless const_defined?(:DEFAULT_LOG_SIZE)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="75">
          <span class="hits">1</span>
          
          <code class="ruby">    DEFAULT_PROXY_ADDRESS = &#39;userproxy.visa.com&#39; unless const_defined?(:DEFAULT_PROXY_ADDRESS)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="77">
          <span class="hits">1</span>
          
          <code class="ruby">    DEFAULT_PROXY_PORT = &#39;443&#39; unless const_defined?(:DEFAULT_PROXY_PORT)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="79">
          <span class="hits">1</span>
          
          <code class="ruby">    DEFAULT_TIMEOUT = &#39;1000&#39; unless const_defined?(:DEFAULT_TIMEOUT)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="81">
          <span class="hits">1</span>
          
          <code class="ruby">    DEFAULT_LOG_DIRECTORY = &#39;../log&#39; unless const_defined?(:DEFAULT_LOG_DIRECTORY)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="83">
          <span class="hits">1</span>
          
          <code class="ruby">    DEFAULT_KEY_DIRECTORY = &#39;resource&#39; unless const_defined?(:DEFAULT_KEY_DIRECTORY)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="85">
          <span class="hits">1</span>
          
          <code class="ruby">    DEFAULT_LOGFILE_NAME = &#39;cybs&#39; unless const_defined?(:DEFAULT_LOGFILE_NAME)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">    # Constant for Fall back logic and Exception Handling</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="89">
          <span class="hits">1</span>
          
          <code class="ruby">    REQUEST_JSON_ERROR = &#39;Request Json File missing. File Path :: &#39; unless const_defined?(:REQUEST_JSON_ERROR)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="91">
          <span class="hits">1</span>
          
          <code class="ruby">    INVALID_ENABLE_LOG = &#39;EnableLog should be (True/False) in cybs.yml&#39; unless const_defined?(:INVALID_ENABLE_LOG)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="93">
          <span class="hits">1</span>
          
          <code class="ruby">    REFER_LOG = &#39;Please refer Log for details&#39; unless const_defined?(:REFER_LOG)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="95">
          <span class="hits">1</span>
          
          <code class="ruby">    MERCHANT_ID_NULL = &#39;MerchantID is mandatory&#39; unless const_defined?(:MERCHANT_ID_NULL)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="97">
          <span class="hits">1</span>
          
          <code class="ruby">    INCORRECT_KEY_PASS = &#39;The keyPass Entered is Incorrect&#39; unless const_defined?(:INCORRECT_KEY_PASS)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="99">
          <span class="hits">1</span>
          
          <code class="ruby">    AUTH_TYPE_MANDATORY= &#39;AuthenticationType is Mandatory&#39; unless const_defined?(:AUTH_TYPE_MANDATORY)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="101">
          <span class="hits">1</span>
          
          <code class="ruby">    MERCHANT_KEY_ID_MANDATORY = &#39;MerchantKeyId is Mandatory&#39; unless const_defined?(:MERCHANT_KEY_ID_MANDATORY)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="103">
          <span class="hits">1</span>
          
          <code class="ruby">    MERCHANT_SECRET_KEY_MANDATORY = &#39;MerchantSecretKey is Mandatory&#39; unless const_defined?(:MERCHANT_SECRET_KEY_MANDATORY)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="105">
          <span class="hits">1</span>
          
          <code class="ruby">    KEY_PASS_NULL = &#39;keyPass is empty, Assigining merchantID value&#39; unless const_defined?(:KEY_PASS_NULL)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="107">
          <span class="hits">1</span>
          
          <code class="ruby">    REQUEST_JSON_PATH_EMPTY = &#39;RequestJsonPath not provided. Using Default Value:&#39;unless const_defined?(:REQUEST_JSON_PATH_EMPTY)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="109">
          <span class="hits">1</span>
          
          <code class="ruby">    REQUEST_TYPE_EMPTY = &#39;RequestType Property of Merchant Config Not Set&#39; unless const_defined?(:REQUEST_TYPE_EMPTY)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="111">
          <span class="hits">1</span>
          
          <code class="ruby">    INVALID_REQUEST_TYPE_METHOD = &#39;Entered Request Type should be (GET/POST/PUT)&#39; unless const_defined?(:INVALID_REQUEST_TYPE_METHOD)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="113">
          <span class="hits">1</span>
          
          <code class="ruby">    INVALID_LOG_DIRECTORY = &#39;Entered LogDirectory is Incorrect. Using Default Path: &#39; unless const_defined?(:INVALID_LOG_DIRECTORY)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="115">
          <span class="hits">1</span>
          
          <code class="ruby">    RUN_ENVIRONMENT_ERROR = &#39;Entered RunEnvironment is Incorrect.&#39; unless const_defined?(:RUN_ENVIRONMENT_ERROR)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="117">
          <span class="hits">1</span>
          
          <code class="ruby">    PROPERTY_FILE_NOT_FOUND = &#39;Cybs.yml file not found&#39; unless const_defined?(:PROPERTY_FILE_NOT_FOUND)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="118">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="119">
          <span class="hits">1</span>
          
          <code class="ruby">    ERROR_PREFIX = &#39;Error: &#39; unless const_defined?(:ERROR_PREFIX)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="121">
          <span class="hits">1</span>
          
          <code class="ruby">    WARNING_PREFIX = &#39;Warning: &#39; unless const_defined?(:WARNING_PREFIX)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="122">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="123">
          <span class="hits">1</span>
          
          <code class="ruby">    HIDDEN_MERCHANT_PROPERTIES = &#39;merchantID,merchantKeyId,merchantsecretKey,keyAlias,keyPass&#39; unless const_defined?(:HIDDEN_MERCHANT_PROPERTIES)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="125">
          <span class="hits">1</span>
          
          <code class="ruby">    RUN_ENVIRONMENT = &#39;RunEnvironment is Mandatory&#39; unless const_defined?(:RUN_ENVIRONMENT)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="127">
          <span class="hits">1</span>
          
          <code class="ruby">    KEY_DIRECTORY_EMPTY = &#39;KeysDirectory not provided. Using Default Path:&#39; unless const_defined?(:KEY_DIRECTORY_EMPTY)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="128">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="129">
          <span class="hits">1</span>
          
          <code class="ruby">    FILE_NOT_FOUND = &#39;File not found, Re-Enter path/file name, Entered path/file name :: &#39; unless const_defined?(:FILE_NOT_FOUND)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="130">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="131">
          <span class="hits">1</span>
          
          <code class="ruby">    AUTH_ERROR = &#39;Check Authentication Type (HTTP_Signature/JWT) in cybs.yml.&#39; unless const_defined?(:AUTH_ERROR)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="132">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="133">
          <span class="hits">1</span>
          
          <code class="ruby">    KEY_FILE_NAME_NULL_EMPTY = &#39;KeyFilename Empty/Null. Assigining merchantID value&#39; unless const_defined?(:KEY_FILE_NAME_NULL_EMPTY)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="134">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="135">
          <span class="hits">1</span>
          
          <code class="ruby">    KEY_ALIAS_NULL_EMPTY = &#39;KeyAlias Empty/Null. Assigining merchantID value&#39; unless const_defined?(:KEY_ALIAS_NULL_EMPTY)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby">    </code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="137">
          <span class="hits">1</span>
          
          <code class="ruby">    INCORRECT_KEY_ALIAS = &#39;The Entered KeyAlias is Incorrect. Assigining merchantID value&#39; unless const_defined?(:INCORRECT_KEY_ALIAS)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="138">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="4bc3bc7900e727d06ea3e422a7d9afecbbc01e32">
  <div class="header">
    <h3>util/Utility.rb</h3>
    <h4><span class="green">94.12 %</span> covered</h4>
    <div>
      <b>17</b> relevant lines. 
      <span class="green"><b>16</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="1" data-linenumber="1">
          <span class="hits">1</span>
          
          <code class="ruby">public</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="2">
          <span class="hits">1</span>
          
          <code class="ruby">class Utility</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="3">
          <span class="hits">1</span>
          
          <code class="ruby">  def getResponseCodeMessage(responseCode)</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="4">
          <span class="hits">11</span>
          
          <code class="ruby">    responseCode = responseCode.to_s</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="5">
          <span class="hits">11</span>
          
          <code class="ruby">    case responseCode</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    when &quot;200&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="7">
          <span class="hits">2</span>
          
          <code class="ruby">      tempResponseCodeMessage = &quot;Transcation Successful&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    when &quot;201&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="9">
          
          
          <code class="ruby">      tempResponseCodeMessage = &quot;Transcation Successful&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">    when &quot;400&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="11">
          <span class="hits">1</span>
          
          <code class="ruby">      tempResponseCodeMessage = &quot;Bad Request&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">    when &quot;401&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="13">
          <span class="hits">1</span>
          
          <code class="ruby">      tempResponseCodeMessage = &quot;Authentication Failed&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">    when &quot;404&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="15">
          <span class="hits">1</span>
          
          <code class="ruby">      tempResponseCodeMessage = &quot;Not Found&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">    when &quot;403&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="17">
          <span class="hits">1</span>
          
          <code class="ruby">      tempResponseCodeMessage = &quot;Forbidden&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">    when &quot;500&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="19">
          <span class="hits">1</span>
          
          <code class="ruby">      tempResponseCodeMessage = &quot;Internal Server Error&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">    when &quot;502&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="21">
          <span class="hits">1</span>
          
          <code class="ruby">      tempResponseCodeMessage = &quot;Bad Gateway&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">    when &quot;503&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="23">
          <span class="hits">1</span>
          
          <code class="ruby">      tempResponseCodeMessage = &quot;Service Unavailable&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">    when &quot;504&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="25">
          <span class="hits">1</span>
          
          <code class="ruby">      tempResponseCodeMessage = &quot;Gateway Timeout&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="27">
          <span class="hits">1</span>
          
          <code class="ruby">      tempResponseCodeMessage= &#39;&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="29">
          <span class="hits">11</span>
          
          <code class="ruby">    return tempResponseCodeMessage</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
      </div>
    </div>
  </body>
</html>
